[gd_scene load_steps=35 format=3 uid="uid://bath36ob6dj1b"]

[ext_resource type="Script" uid="uid://bwgpmck7grlvy" path="res://Scripts/auto_rope_path.gd" id="1_3ytsx"]
[ext_resource type="Environment" uid="uid://ch3alxhyfv1n0" path="res://Scenes/Worlds/Paris_Environment.tres" id="1_25okp"]
[ext_resource type="VoxelGIData" uid="uid://f553vglevgdr" path="res://Scenes/Worlds/Paris.VoxelGI_data.res" id="1_pr2ko"]
[ext_resource type="PackedScene" uid="uid://bj34qq52wpb60" path="res://Scenes/Design Tools/target_point.tscn" id="2_0qql5"]
[ext_resource type="PackedScene" uid="uid://c70l3ebt3x47f" path="res://Scenes/Character/player__sly.tscn" id="2_25okp"]
[ext_resource type="Script" uid="uid://dndwb4exh4ccd" path="res://Scripts/pole.gd" id="3_0qql5"]
[ext_resource type="PackedScene" uid="uid://xcipepk1meu" path="res://Scenes/Design Tools/camera_parent.tscn" id="3_617rq"]
[ext_resource type="PackedScene" uid="uid://8r1717wlwg3r" path="res://Assets/Temp Imports/p-bld-4.glb" id="3_oqbgp"]
[ext_resource type="PackedScene" uid="uid://c4mn85fobgsha" path="res://Assets/Temp Imports/p-bld-safehouse.glb" id="6_617rq"]
[ext_resource type="PackedScene" uid="uid://0aqdv3whvcao" path="res://Assets/Temp Imports/p-modular-aframe.glb" id="6_gfphh"]
[ext_resource type="PackedScene" uid="uid://bgstehumyyjb6" path="res://Assets/Temp Imports/a balcony.glb" id="7_u86sc"]
[ext_resource type="Texture2D" uid="uid://qqcd76u2o2ig" path="res://Assets/Temp Imports/paris skyline.png" id="8_awwuf"]
[ext_resource type="PackedScene" uid="uid://12jg0s5papwk" path="res://Assets/Temp Imports/world paris.glb" id="11_5n2g1"]
[ext_resource type="PackedScene" uid="uid://dducx72fohnii" path="res://Assets/Temp Imports/car 2m.glb" id="11_gojqr"]
[ext_resource type="PackedScene" uid="uid://dgbbsv1fb5nex" path="res://Scenes/Design Tools/hp_container.tscn" id="12_u86sc"]
[ext_resource type="PackedScene" uid="uid://c0q01l776k7jc" path="res://Scenes/Design Tools/hurtbox.tscn" id="13_awwuf"]
[ext_resource type="PackedScene" uid="uid://deklym4nj8rbp" path="res://Scenes/Design Tools/hitbox.tscn" id="14_ybblj"]
[ext_resource type="PackedScene" uid="uid://brv7l2iku2ciy" path="res://Scenes/Design Tools/spotlight_detection.tscn" id="15_awwuf"]
[ext_resource type="PackedScene" uid="uid://p0gyuhqkx2lp" path="res://Scenes/Design Tools/projectile.tscn" id="16_ybblj"]
[ext_resource type="PackedScene" uid="uid://ci6xsmwmv0meo" path="res://Assets/Temp Imports/p-bld-sly2-medtower-revised.glb" id="17_ww0qh"]
[ext_resource type="PackedScene" uid="uid://ey48ljgemf44" path="res://Assets/Temp Imports/TEST-bld-2.glb" id="21_72fgq"]
[ext_resource type="PackedScene" uid="uid://bo078w8k4ee6q" path="res://Assets/Temp Imports/TEST-bld-3.glb" id="22_27v8m"]
[ext_resource type="PackedScene" uid="uid://b4athtlke2t2e" path="res://Scenes/Design Tools/hook_swing.tscn" id="23_27v8m"]
[ext_resource type="PackedScene" uid="uid://fos6dir22w7d" path="res://Assets/Temp Imports/TEST-bld-4.glb" id="24_eumwj"]
[ext_resource type="PackedScene" uid="uid://plnholfc6rmt" path="res://Assets/Temp Imports/window-box-1.glb" id="25_eqm20"]

[sub_resource type="Curve3D" id="Curve3D_oqbgp"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 15.9206, 4.44346, -4.6924, 0, 0, 0, 0, 0, 0, 15.9285, 4.44782, -5.69017, 0, 0, 0, 0, 0, 0, 15.9365, 4.51523, -6.68794, 0, 0, 0, 0, 0, 0, 15.9444, 4.64568, -7.68571, 0, 0, 0, 0, 0, 0, 15.9524, 4.83917, -8.68348, 0, 0, 0, 0, 0, 0, 15.9603, 5.09571, -9.68125, 0, 0, 0, 0, 0, 0, 15.9682, 5.41529, -10.679, 0, 0, 0, 0, 0, 0, 15.9762, 5.79791, -11.6768, 0, 0, 0, 0, 0, 0, 15.9841, 6.24358, -12.6746, 0, 0, 0, 0, 0, 0, 15.9921, 6.75229, -13.6723, 0, 0, 0, 0, 0, 0, 16, 7.32405, -14.6701),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 11

[sub_resource type="Curve3D" id="Curve3D_b2g3t"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 8.3349, 0.00124359, -13.7503, 0, 0, 0, 0, 0, 0, 8.33535, 5.96541, -13.7503),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve3D" id="Curve3D_0qql5"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -6.45027, 4.26618, 6.35907, 0, 0, 0, 0, 0, 0, -6.49104, 6.91638, 6.44514, 0, 0, 0, 0, 0, 0, -6.61074, 8.66248, 6.73266, 0, 0, 0, 0, 0, 0, -6.12949, 9.57825, 6.34843),
"tilts": PackedFloat32Array(0, 0, 0, 0)
}
point_count = 4

[sub_resource type="CylinderMesh" id="CylinderMesh_25okp"]
top_radius = 0.25
bottom_radius = 0.25
height = 0.5

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_617rq"]
emission_enabled = true
emission = Color(0.7, 0.62125, 0.385, 1)
emission_energy_multiplier = 2.0

[sub_resource type="BoxShape3D" id="BoxShape3D_ww0qh"]

[sub_resource type="BoxShape3D" id="BoxShape3D_3ytsx"]

[sub_resource type="BoxMesh" id="BoxMesh_27v8m"]
size = Vector3(0.75, 3, 0.75)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_27v8m"]
data = PackedVector3Array(-0.375, 1.5, 0.375, 0.375, 1.5, 0.375, -0.375, -1.5, 0.375, 0.375, 1.5, 0.375, 0.375, -1.5, 0.375, -0.375, -1.5, 0.375, 0.375, 1.5, -0.375, -0.375, 1.5, -0.375, 0.375, -1.5, -0.375, -0.375, 1.5, -0.375, -0.375, -1.5, -0.375, 0.375, -1.5, -0.375, 0.375, 1.5, 0.375, 0.375, 1.5, -0.375, 0.375, -1.5, 0.375, 0.375, 1.5, -0.375, 0.375, -1.5, -0.375, 0.375, -1.5, 0.375, -0.375, 1.5, -0.375, -0.375, 1.5, 0.375, -0.375, -1.5, -0.375, -0.375, 1.5, 0.375, -0.375, -1.5, 0.375, -0.375, -1.5, -0.375, 0.375, 1.5, 0.375, -0.375, 1.5, 0.375, 0.375, 1.5, -0.375, -0.375, 1.5, 0.375, -0.375, 1.5, -0.375, 0.375, 1.5, -0.375, -0.375, -1.5, 0.375, 0.375, -1.5, 0.375, -0.375, -1.5, -0.375, 0.375, -1.5, 0.375, 0.375, -1.5, -0.375, -0.375, -1.5, -0.375)

[node name="Paris" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("1_25okp")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.761538, -0.64812, -2.9261e-08, -0.226976, -0.266696, 0.936672, -0.607076, -0.713312, -0.350207, -4, 12.8696, -1)
light_color = Color(0.56, 0.62, 0.8, 1)
light_indirect_energy = 0.8
light_bake_mode = 1
shadow_enabled = true
shadow_normal_bias = 3.0
shadow_opacity = 0.5
directional_shadow_blend_splits = true

[node name="VoxelGI" type="VoxelGI" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 55.0668, 24.1166, 36.0228)
size = Vector3(758.704, 181.617, 796.222)
data = ExtResource("1_pr2ko")

[node name="Player_ Sly" parent="." node_paths=PackedStringArray("camera_parent") instance=ExtResource("2_25okp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.162, 10.5934, 4.7264)
camera_parent = NodePath("../Camera Parent")

[node name="Camera Parent" parent="." node_paths=PackedStringArray("camera_player") instance=ExtResource("3_617rq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -24, 15.6216, 2.5)
camera_player = NodePath("../Player_ Sly")

[node name="Rope" type="Node3D" parent="." node_paths=PackedStringArray("path_3d", "start_point", "end_point", "path_follow", "target_point", "player")]
script = ExtResource("1_3ytsx")
path_3d = NodePath("Path3D")
start_point = NodePath("end")
end_point = NodePath("start")
curve_amplitude = 500.0
start_clamp = 0.1
end_clamp = 0.9
length = 10.53
path_follow = NodePath("Path3D/PathFollow3D")
target_point = NodePath("Path3D/PathFollow3D/Target Point")
player = NodePath("../Player_ Sly")
bend_mult = 0.5

[node name="end" type="Node3D" parent="Rope"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15.9206, 4.44346, -4.6924)

[node name="start" type="Node3D" parent="Rope"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16, 7.32405, -14.6701)

[node name="Path3D" type="Path3D" parent="Rope"]
curve = SubResource("Curve3D_oqbgp")

[node name="PathFollow3D" type="PathFollow3D" parent="Rope/Path3D"]
transform = Transform3D(0.999823, -0.00198121, -0.00770613, -1.61794e-08, 0.968355, -0.248972, 0.00795663, 0.248959, 0.968344, 15.9564, 4.96999, -9.19228)
progress = 4.5459
loop = false

[node name="Target Point" parent="Rope/Path3D/PathFollow3D" groups=["LOCK PLAYER ROT", "rope"] instance=ExtResource("2_0qql5")]
transform = Transform3D(-0.999968, 0, -0.00795776, 0, 1, 0, 0.00795776, 0, -0.999968, 0, 0.1, 0)

[node name="CSGPolygon3D" type="CSGPolygon3D" parent="Rope"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.05, -0.05, -0.05)
polygon = PackedVector2Array(0, 0, 0, 0.1, 0.1, 0.1, 0.1, 0)
mode = 2
path_node = NodePath("../Path3D")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
smooth_faces = true

[node name="p-bld-4" parent="Rope" instance=ExtResource("3_oqbgp")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -13, 0, -15)

[node name="Pole" type="Node3D" parent="." node_paths=PackedStringArray("test_ball", "target")]
script = ExtResource("3_0qql5")
update_tool = true
test_ball = NodePath("Path3D/PathFollow3D/Grip Offset/Target Point")
target = NodePath("../Player_ Sly")
length = 5.96
end_clamp = 0.7
reversed = true

[node name="Path3D" type="Path3D" parent="Pole"]
curve = SubResource("Curve3D_b2g3t")

[node name="PathFollow3D" type="PathFollow3D" parent="Pole/Path3D"]
transform = Transform3D(-1.62914e-07, 0.999967, -4.37096e-08, 0, -4.37099e-08, -0.999959, -0.999957, -1.62915e-07, 7.1212e-15, 8.33535, 5.96541, -13.7503)
progress = 5.96417
loop = false

[node name="Grip Offset" type="Node3D" parent="Pole/Path3D/PathFollow3D"]

[node name="Target Point" parent="Pole/Path3D/PathFollow3D/Grip Offset" groups=["LOCK PLAYER ROT", "pole"] instance=ExtResource("2_0qql5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.25, 0.25, 0)

[node name="CSGPolygon3D" type="CSGPolygon3D" parent="Pole"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.05, 0, 0.05)
polygon = PackedVector2Array(0, 0, 0, 0.1, 0.1, 0.1, 0.1, 0)
mode = 2
path_node = NodePath("../Path3D")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
smooth_faces = true

[node name="Safehouse Pole" type="Node3D" parent="." node_paths=PackedStringArray("test_ball", "target")]
script = ExtResource("3_0qql5")
test_ball = NodePath("Path3D/PathFollow3D/Grip Offset/Target Point")
target = NodePath("../Player_ Sly")
length = 5.53
start_clamp = 0.05
end_clamp = 0.7
reversed = true

[node name="Path3D" type="Path3D" parent="Safehouse Pole"]
curve = SubResource("Curve3D_0qql5")

[node name="PathFollow3D" type="PathFollow3D" parent="Safehouse Pole/Path3D"]
transform = Transform3D(-0.00541552, 0.997693, 0.0674874, 0.162112, 0.0674708, -0.984461, -0.986755, 0.00560908, -0.162105, -6.4985, 7.02521, 6.46306)
progress = 2.76457
loop = false

[node name="Grip Offset" type="Node3D" parent="Safehouse Pole/Path3D/PathFollow3D"]

[node name="Target Point" parent="Safehouse Pole/Path3D/PathFollow3D/Grip Offset" groups=["LOCK PLAYER ROT", "pole"] instance=ExtResource("2_0qql5")]
transform = Transform3D(1, -2.6077e-08, -2.98023e-08, 3.72529e-09, 1, 1.67638e-08, -2.98023e-08, 4.84288e-08, 1, 0.029, -0.25, 0)

[node name="CSGPolygon3D" type="CSGPolygon3D" parent="Safehouse Pole"]
polygon = PackedVector2Array(0, 0, 0, 0.1, 0.1, 0.1, 0.1, 0)
mode = 2
path_node = NodePath("../Path3D")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
smooth_faces = true

[node name="p-bld-safehouse2" parent="." instance=ExtResource("6_617rq")]
transform = Transform3D(0.996158, 0, 0.087573, 0, 1, 0, -0.087573, 0, 0.996158, 0, 0.2, 0)

[node name="p-bld-sly2-medtower-revised" parent="." instance=ExtResource("17_ww0qh")]
transform = Transform3D(-0.984808, 0, 0.173648, 0, 1, 0, -0.173648, 0, -0.984808, 19, 0.2, 5)

[node name="p-modular-aframe" parent="." instance=ExtResource("6_gfphh")]
transform = Transform3D(-0.422618, 0, 0.906308, 0, 1, 0, -0.906308, 0, -0.422618, 15, 0, 18)

[node name="a balcony" parent="p-modular-aframe" instance=ExtResource("7_u86sc")]
transform = Transform3D(-2.98023e-08, 0, 1, 0, 1, 0, -1, 0, -2.98023e-08, 0, 0, 0)

[node name="a balcony2" parent="p-modular-aframe" instance=ExtResource("7_u86sc")]
transform = Transform3D(1.31134e-07, 0, -1, 0, 1, 0, 1, 0, 1.31134e-07, -10, 0, 1.52588e-05)

[node name="light emis" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 4, 21)
cast_shadow = 0
mesh = SubResource("CylinderMesh_25okp")
surface_material_override/0 = SubResource("StandardMaterial3D_617rq")

[node name="light emis2" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.7482, 4, -13.6377)
cast_shadow = 0
mesh = SubResource("CylinderMesh_25okp")
surface_material_override/0 = SubResource("StandardMaterial3D_617rq")

[node name="Sprite3D4" type="Sprite3D" parent="."]
transform = Transform3D(8.74228e-08, 0, -1, 0, 1, 0, 1, 0, 8.74228e-08, 848.5, -2.7432, 25)
pixel_size = 1.0
texture = ExtResource("8_awwuf")

[node name="Sprite3D" type="Sprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 33.5, -2.7432, -794)
pixel_size = 1.0
texture = ExtResource("8_awwuf")

[node name="Sprite3D2" type="Sprite3D" parent="."]
transform = Transform3D(0, 0, 1, 0, 1, 0, -1, 0, 0, -785.5, -2.7432, 24)
pixel_size = 1.0
texture = ExtResource("8_awwuf")

[node name="Sprite3D3" type="Sprite3D" parent="."]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 30, -2.7432, 844.5)
pixel_size = 1.0
texture = ExtResource("8_awwuf")

[node name="world paris" parent="." instance=ExtResource("11_5n2g1")]

[node name="car 2m" parent="." instance=ExtResource("11_gojqr")]
transform = Transform3D(-0.0291615, -0.144091, -0.989136, 0.000512832, 0.989554, -0.144166, 0.999575, -0.00471144, -0.0287834, 13.414, 0.127338, 2.47111)

[node name="car 2m2" parent="." instance=ExtResource("11_gojqr")]
transform = Transform3D(0.920012, 0.0443686, -0.389372, 0.00893545, 0.990938, 0.13403, 0.391789, -0.126788, 0.911278, 19.5607, 0.154036, -4.40887)

[node name="HP Container" parent="." node_paths=PackedStringArray("hurtboxes") instance=ExtResource("12_u86sc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.79588, 11.2578, 6)
hurtboxes = [NodePath("Hurtbox")]

[node name="Hurtbox" parent="HP Container" instance=ExtResource("13_awwuf")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="HP Container/Hurtbox"]
shape = SubResource("BoxShape3D_ww0qh")
debug_color = Color(0, 1, 0, 1)

[node name="Hitbox" parent="." instance=ExtResource("14_ybblj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.2406, 14, -1)
damage = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="Hitbox"]
shape = SubResource("BoxShape3D_3ytsx")
debug_color = Color(1, 0, 0, 1)

[node name="Spotlight Detection" parent="." instance=ExtResource("15_awwuf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4, 0, 17)

[node name="projectile" parent="." instance=ExtResource("16_ybblj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 9, 12)

[node name="Target Point" parent="." groups=["point"] instance=ExtResource("2_0qql5")]
transform = Transform3D(0.866025, 0, 0.5, 0, 1, 0, -0.5, 0, 0.866025, 29.3349, 4, -0.75)

[node name="Target Point3" parent="." groups=["point"] instance=ExtResource("2_0qql5")]
transform = Transform3D(0.866025, 0, 0.5, 0, 1, 0, -0.5, 0, 0.866025, 8.3349, 6, -13.75)

[node name="Target Point2" parent="." groups=["point"] instance=ExtResource("2_0qql5")]
transform = Transform3D(0.866025, 0, 0.5, 0, 1, 0, -0.5, 0, 0.866025, 33.6651, 4, -3.25)

[node name="TEST-bld-2" parent="." instance=ExtResource("21_72fgq")]
transform = Transform3D(-0.866025, 0, -0.5, 0, 1, 0, 0.5, 0, -0.866025, -40, 0, 27)

[node name="TEST-bld-3" parent="." instance=ExtResource("22_27v8m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 55, 0, 15)

[node name="Hook Swing" parent="." node_paths=PackedStringArray("player") instance=ExtResource("23_27v8m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 13, 4)
player = NodePath("../Player_ Sly")

[node name="3_5" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12, 1.5, 0)
mesh = SubResource("BoxMesh_27v8m")

[node name="StaticBody3D2" type="StaticBody3D" parent="3_5"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="3_5/StaticBody3D2"]
shape = SubResource("ConcavePolygonShape3D_27v8m")

[node name="TEST-bld-4" parent="." instance=ExtResource("24_eumwj")]
transform = Transform3D(-0.258819, 0, -0.965926, 0, 1, 0, 0.965926, 0, -0.258819, 36, 0, -13)

[node name="window-box-1" parent="." instance=ExtResource("25_eqm20")]
transform = Transform3D(0.996195, 0, 0.0871557, 0, 1, 0, -0.0871557, 0, 0.996195, 8.29196, 4, -1)

[connection signal="area_entered" from="HP Container/Hurtbox" to="HP Container/Hurtbox" method="_on_area_entered"]
[connection signal="area_exited" from="HP Container/Hurtbox" to="HP Container/Hurtbox" method="_on_area_exited"]
[connection signal="area_entered" from="Hitbox" to="Hitbox" method="_on_area_entered"]
[connection signal="area_exited" from="Hitbox" to="Hitbox" method="_on_area_exited"]
